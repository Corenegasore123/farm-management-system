{% extends 'attendance/base.html' %}
{% block title %}Edit Farmer â€” FarmEase{% endblock %}
{% block page_title %}Edit Farmer{% endblock %}
{% block content %}

<div class="d-flex align-items-center justify-content-between mb-3">
  <div>
    <h2 class="mb-0">Edit Farmer</h2>
    <p class="text-muted small">Update farmer information</p>
  </div>
  <div>
    <a href="{% url 'farmers_list' %}" class="btn btn-outline">Back to Farmers</a>
  </div>
</div>

{# Flash messages #}
{% if messages %}
<div class="mb-3">
  {% for message in messages %}
  <div class="alert alert-{{ message.tags }} mb-2" role="alert">
    {{ message }}
  </div>
  {% endfor %}
</div>
{% endif %}

<form method="POST" novalidate class="row g-3">
  {% csrf_token %}
  {{ form.non_field_errors }}

  <div class="col-md-6">
    {{ form.name.label_tag }}
    {{ form.name }}
    {{ form.name.errors }}
  </div>

  <div class="col-md-6">
    {{ form.farm.label_tag }}
    {{ form.farm }}
    {{ form.farm.errors }}
  </div>

  <div class="col-md-6">
    {{ form.age.label_tag }}
    {{ form.age }}
    {{ form.age.errors }}
  </div>

  <div class="col-md-6">
    {{ form.location.label_tag }}
    {{ form.location }}
    {{ form.location.errors }}
  </div>

  <div class="col-md-6">
    {{ form.phone.label_tag }}
    {{ form.phone }}
    {{ form.phone.errors }}
  </div>

  <div class="col-md-6">
    {{ form.employment_type.label_tag }}
    {{ form.employment_type }}
    {{ form.employment_type.errors }}
  </div>

  <div class="col-12">
    <label class="form-label">Gender</label>
    <div class="d-flex gap-4 align-items-center flex-wrap">
      {% for radio in form.gender %}
        <label class="d-inline-flex align-items-center gap-2">
          {{ radio.tag }}
          <span>{{ radio.choice_label }}</span>
        </label>
      {% endfor %}
    </div>
    {{ form.gender.errors }}
  </div>

  <div class="col-12 mt-2">
    <button type="submit" class="btn btn-primary">Update Farmer</button>
    <a href="{% url 'farmers_list' %}" class="btn btn-outline ms-2">Cancel</a>
  </div>
</form>

{% endblock %}
